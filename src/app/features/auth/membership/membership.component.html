<div class="memberships-container">
  <!-- Header -->
  <header class="memberships-header">
    <button class="back-btn" (click)="goBack()">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
        <path d="M19 12H5m7-7l-7 7 7 7" 
              stroke="currentColor" 
              stroke-width="2" 
              stroke-linecap="round" 
              stroke-linejoin="round"/>
      </svg>
      Volver
    </button>
    <h1>Planes de Membres√≠a</h1>
    <div class="header-subtitle">
      <p>Elige el plan perfecto para alcanzar tus objetivos</p>
    </div>
  </header>

  <section class="preview-selected" *ngIf="preselectedPlan">
    <div class="preview-card selected highlighted">
      <div class="card-header">
        <h2>Plan Seleccionado</h2>
        <h3 class="plan-name">{{ preselectedPlan.name }}</h3>
      </div>
      <div class="card-body">
        <p>{{ preselectedPlan.description }}</p>
        <div class="price-tag">
          <span class="price">${{ preselectedPlan.price | number:'1.0-0' }}</span>
          <span class="period">/ {{ preselectedPlan.duration }} mes</span>
        </div>
        <div class="features-list">
          <h3>Incluye:</h3>
          <ul>
            <li *ngFor="let feature of preselectedPlan.features">
              <span class="check-icon">‚úì</span> {{ feature }}
            </li>
          </ul>
        </div>
      </div>
      <div class="card-footer">
        <button class="btn-primary" (click)="selectPlan(preselectedPlan)">
          Continuar con este plan
        </button>
      </div>
    </div>
  </section>

  <!-- üîπ Lista de todos los planes -->
  <section class="plans">
    <div 
      *ngFor="let plan of membershipPlans" 
      class="preview-card"
      [ngClass]="{ 
        'popular': plan.isPopular,
        'selected': preselectedPlan?.id === plan.id 
      }">

      <div class="card-header">
        <h2>{{ plan.name }}</h2>
        <p>{{ plan.description }}</p>
        <span class="popular-badge" *ngIf="plan.isPopular">M√ÅS POPULAR</span>
      </div>

      <div class="card-body">
        <div class="price-tag">
          <span class="price">${{ plan.price | number:'1.0-0' }}</span>
          <span class="period">/ {{ plan.duration }} mes</span>
        </div>

        <div class="features-list">
          <h3>Incluye:</h3>
          <ul>
            <li *ngFor="let feature of plan.features">
              <span class="check-icon">‚úì</span> {{ feature }}
            </li>
          </ul>
        </div>
      </div>

      <div class="card-footer">
        <div class="actions">
          <button 
            class="btn-primary"
            (click)="selectPlan(plan)">
            Seleccionar Plan
          </button>
        </div>
      </div>
    </div>
  </section>
</div>